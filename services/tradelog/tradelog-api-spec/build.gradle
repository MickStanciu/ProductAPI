plugins {
    id "java"
    id "org.openapi.generator" version "4.1.2"
}

description = "TradeLog API Spec"
group = "com.example.tradelog.api.spec"
version = "0.0.1-SNAPSHOT"

sourceCompatibility = 11
targetCompatibility = 11
tasks.withType(JavaCompile) {
    options.encoding = "UTF-8"
}

dependencies {
    implementation ("com.fasterxml.jackson.core:jackson-databind:2.9.9.2")
    compile("org.immutables:value-annotations:2.7.5")
    compile("org.immutables:builder:2.7.5")
    annotationProcessor("org.immutables:value:2.7.5")
}

tasks.openApiGenerate {
    generatorName = "spring"
    inputSpec = "$projectDir/openapi.yaml"
    apiPackage = "org.pula"
    modelPackage = "org.pula.model"
    outputDir = "$buildDir/generated"
}

repositories {
    jcenter()
    mavenCentral()
}